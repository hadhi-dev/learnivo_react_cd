import{j as e,r as b,d as R,y as k}from"./index-BeBsoWak.js";import{P as U}from"./PostAPI-DZTiptSa.js";import{B as m,C as A,I as F,T as E,a as T,b as W,H as Q,V as J,R as H}from"./ViewHeaderWithButtons-CPbLV2vO.js";import{R as _}from"./react-paginate-Cjp8dBPF.js";import"./with-selector-Cy5QRLM9.js";import"./AdminHome-S6cDaF4d.js";import"./CONSTANTS-W_7WszVf.js";import"./circle-check-Ya8iOWSQ.js";const S={UserRegIDPK:0,FullName:"",Email:"",Qualification:"",Designation:"",ContactNumber:"",WhatsappNumber:"",InternshipDomain:"",JoinedLinkedIn:!1,JoinedWhatsapp:!1,Queries:"",IsVerified:!1,CreatedAt:"",UpdatedAt:""},O=[{fieldName:"FullName",type:"text",label:"Name",IsVisible:!0,className:"w-full"},{fieldName:"Email",type:"text",label:"Email",IsVisible:!0,className:"w-full"},{fieldName:"ContactNumber",type:"text",label:"Contact",IsVisible:!0,className:"w-1/2"},{fieldName:"InternshipDomain",type:"text",label:"Domain",IsVisible:!0,className:"w-1/2"},{fieldName:"IsVerified",type:"boolean",label:"Onboarded",IsVisible:!0,className:"w-1/2"}],K=[{fieldName:"FullName",type:"text",label:"Full Name",IsVisible:!0,className:"w-1/6"},{fieldName:"Email",type:"text",label:"Email",IsVisible:!0,className:"w-1/6"},{fieldName:"PasswordHash",type:"text",label:"Password Hash",IsVisible:!1},{fieldName:"Qualification",type:"text",label:"Qualification",IsVisible:!0,className:"w-1/6"},{fieldName:"Designation",type:"text",label:"Designation",IsVisible:!0,className:"w-1/6"},{fieldName:"ContactNumber",type:"text",label:"Contact Number",IsVisible:!0,className:"w-1/6"},{fieldName:"WhatsappNumber",type:"text",label:"WhatsApp Number",IsVisible:!0,className:"w-1/6"},{fieldName:"InternshipDomain",type:"text",label:"Internship Domain",IsVisible:!0,className:"w-1/6"},{fieldName:"JoinedLinkedIn",type:"boolean",label:"Joined LinkedIn",IsVisible:!0,className:"w-1/6"},{fieldName:"JoinedWhatsapp",type:"boolean",label:"Joined WhatsApp",IsVisible:!0,className:"w-1/6"},{fieldName:"Queries",type:"text",label:"Queries",IsVisible:!0,className:"w-1/6"},{fieldName:"VerificationToken",type:"text",label:"Verification Token",IsVisible:!1},{fieldName:"IsVerified",type:"boolean",label:"Is Verified",IsVisible:!0,className:"w-1/6"},{fieldName:"UserRole",type:"text",label:"User Role",IsVisible:!0,className:"w-1/6"},{fieldName:"CreatedAt",type:"text",label:"Created At",IsVisible:!0,className:"w-1/6"},{fieldName:"UpdatedAt",type:"text",label:"Updated At",IsVisible:!0,className:"w-1/6"}],M=[{label:"Full Name",fieldName:"FullName",type:"text",className:"w-full md:w-1/2",IsMandatory:1,IsVisible:1,IsDisable:0},{label:"Email",fieldName:"Email",type:"email",className:"w-full md:w-1/2",IsMandatory:0,IsVisible:1,IsDisable:0},{label:"Qualification",fieldName:"Qualification",type:"text",className:"w-full md:w-1/2",IsMandatory:0,IsVisible:1,IsDisable:0},{label:"Designation",fieldName:"Designation",type:"text",className:"w-full md:w-1/2",IsMandatory:0,IsVisible:1,IsDisable:0},{label:"Contact Number",fieldName:"ContactNumber",type:"text",className:"w-full md:w-1/3",IsMandatory:0,IsVisible:1,IsDisable:0},{label:"Whatsapp Number",fieldName:"WhatsappNumber",type:"text",className:"w-full md:w-1/3",IsMandatory:0,IsVisible:1,IsDisable:0},{label:"Internship Domain",fieldName:"InternshipDomain",fieldID:"InternshipDomainID",info:"Space",type:"text",className:"w-full md:w-1/3",IsMandatory:0,IsVisible:1,IsDisable:0},{label:"LinkedIn",fieldName:"JoinedLinkedIn",type:"checkbox",className:"w-1/2",IsMandatory:0,IsVisible:1,IsDisable:0},{label:"Whatsapp",fieldName:"JoinedWhatsapp",type:"checkbox",className:"w-1/2",IsMandatory:0,IsVisible:1,IsDisable:0},{label:"Queries",fieldName:"Queries",type:"text",className:"w-full",IsMandatory:0,IsVisible:1,IsDisable:0},{label:"Onboarded",fieldName:"IsVerified",type:"checkbox",className:"w-1/2",IsMandatory:0,IsVisible:1,IsDisable:0}],$=({handleSubmit:u,clearForm:o,primID:l,formConfig:n,formData:c,handleChange:d,onBack:t,title:f})=>e.jsxs("form",{onSubmit:u,className:"w-full",children:[e.jsxs("div",{className:"flex w-full items-center justify-between gap-2",children:[e.jsxs("button",{className:"flex items-center rounded-full py-2 text-gray-700 hover:bg-gray-200 focus:outline-none",onClick:()=>t("table"),children:[e.jsx("i",{className:"material-icons",children:"arrow_back"}),e.jsx("span",{className:"text-md ml-2 pr-2 font-bold text-indigo-600",children:f})]}),e.jsxs("div",{className:"flex w-full items-center justify-end gap-2 pr-2",children:[l?e.jsx(m,{className:"hidden md:flex",name:"Close",onClick:t,color:"indigo",icon:"close"}):e.jsxs(e.Fragment,{children:[e.jsx(m,{className:"hidden md:flex",name:"Close",onClick:t,color:"red",icon:"close"}),e.jsx(m,{className:"hidden md:flex",name:"Clear",onClick:o,color:"red",icon:"cancel"})]}),e.jsx(m,{className:"hidden md:flex",name:l>0?"Update":"Save",icon:"save",type:"submit",color:"green"})]})]}),e.jsx("div",{className:"flex w-full items-center justify-end gap-2 p-2",children:n.map(i=>i.type==="checkbox"&&i.IsVisible?e.jsx(A,{field:i,formData:c,handleChange:d},i.fieldName):"")}),e.jsx("div",{className:"mt-4 flex w-full flex-wrap gap-y-2",children:n.map(i=>i.type!=="checkbox"&&i.IsVisible?e.jsx(F,{field:i,formData:c,handleChange:d},i.fieldName):null)}),e.jsx("div",{className:"fixed bottom-0 w-full bg-white p-4 md:hidden",children:e.jsxs("div",{className:"flex justify-end gap-1 pr-2",children:[l?e.jsx(m,{name:"Close",className:"text-lg",onClick:t,color:"red",icon:"close"}):e.jsxs(e.Fragment,{children:[e.jsx(m,{name:"Close",className:"text-lg",onClick:t,color:"red",icon:"close"}),e.jsx(m,{name:"Clear",className:"text-lg",onClick:o,color:"red",icon:"cancel"})]}),e.jsx(m,{name:l>0?"Update":"Save",icon:"save",type:"submit",color:"indigo"})]})})]}),B=({handleAdd:u,title:o,refresh:l,TotalCount:n})=>e.jsxs("div",{className:"flex w-full items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"text-md border border-0 border-l-2 border-indigo-600 pl-2 font-bold text-indigo-600",children:[o," (",n||0,")"]}),e.jsx("i",{title:"Refresh",onClick:l,className:"bi bi-arrow-clockwise ml-2 cursor-pointer text-indigo-700"})]}),e.jsx("div",{children:e.jsx(m,{className:"hidden md:flex",name:"Add",onClick:u,color:"indigo",icon:"add"})})]}),q=({tableFields:u,cardViewFields:o,dataList:l,handleEdit:n,handleView:c,title:d,isCardView:t,setCardView:f,IDPK:i})=>{const[I,C]=b.useState(""),[p,h]=b.useState(0),[N,V]=b.useState(20),x=(a,j)=>{j(a.target.value),h(0)},w=()=>{f(!t),h(0)},v=({selected:a})=>{h(a)},g=a=>{x(a,V)},y=l.filter(a=>Object.values(a).join(" ").toLowerCase().includes(I.toLowerCase())),s=y.slice(p*N,(p+1)*N),r=Math.ceil(y.length/N);return e.jsxs("div",{className:"p-1",children:[e.jsx(E,{handleSearchChange:a=>x(a,C),searchInput:I,toggleView:w,isCardView:t,handleItemsPerPageChange:g,itemsPerPage:N}),t?e.jsx(T,{data:s,cardViewFields:o,handleEdit:n,handleView:c,title:d,IDPK:i}):e.jsx(W,{tableFields:u,dataList:s,handleEdit:n,handleView:c,IDPK:i}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"mb-16"}),e.jsx("div",{className:"fixed right-0 bottom-0 left-0 flex items-center justify-center space-x-2 bg-white p-2",children:e.jsx(_,{pageCount:r,pageRangeDisplayed:2,marginPagesDisplayed:1,onPageChange:v,containerClassName:"pagination ml-2",activeClassName:"active",breakClassName:"break-me",breakLinkClassName:"break-link",pageClassName:"page",pageLinkClassName:"page-link",previousClassName:"previous ",previousLinkClassName:"previous-link",nextClassName:"next",nextLinkClassName:"next-link",disabledClassName:"disabled",onDoubleClick:a=>a.preventDefault()})})]})]})},z=({formConfig:u,formData:o,primID:l,onBack:n,handleEdit:c,handleAdd:d,title:t})=>e.jsx("div",{className:"flex w-full items-center justify-center",children:e.jsxs("div",{className:"w-full bg-white",children:[e.jsx(Q,{title:t,onBack:n,handleEdit:c,handleAdd:d,primID:l}),e.jsx(J,{formConfig:u,formData:o}),e.jsx(H,{onBack:n,handleAdd:d,handleEdit:c,primID:l})]})}),P="UserRegIDPK",le=u=>{const[o,l]=b.useState(S),[n,c]=b.useState([]),[d,t]=b.useState("table"),[f,i]=b.useState(0),[I,C]=b.useState(!1);b.useEffect(()=>{p()},[]);const p=async()=>{try{const s=await fetch(`${R.API_URL}userregistrations`);if(!s.ok)throw new Error(`HTTP error! Status: ${s.status}`);const r=await s.json();c(r.data)}catch(s){console.error("Error fetching data:",s)}},h=s=>{const{name:r,checked:a,type:j}=s.target;if(j==="checkbox")l(D=>({...D,[r]:a}));else{const D=s.target.value;l(L=>({...L,[r]:D}))}},N=async s=>{try{const{status:r,data:a}=await U("userregistration_save",{data:s});r===200&&a.code===200?(k.success(a.message),x(),t("table"),p()):k.warning(a.message)}catch(r){console.error("ðŸš€ ~ file: Main.js:71 ~ saveData ~ error:",r),k.error("something went wrong!")}},V=s=>{s.preventDefault(),N(o)},x=()=>{l(S),i(0)},w=s=>{const r=n.find(a=>a[P]===s);i(s),l(r),t("entry")},v=s=>{const r=n.find(a=>a[P]===s);i(s),l(r),t("view")},g=()=>{x(),t("entry")},y=()=>{switch(d){case"entry":return e.jsx($,{title:"Registered_User",primID:f,formData:o,formConfig:M,handleChange:h,handleSubmit:V,clearForm:x,onBack:()=>t("table")});case"view":return e.jsx(z,{title:"Registered_User",primID:f,formConfig:M,formData:o,onBack:()=>t("table"),handleEdit:w,handleAdd:g});case"table":default:return e.jsx(q,{IDPK:P,cardViewFields:O,tableFields:K,dataList:n,handleEdit:w,handleView:v,isCardView:I,setCardView:C})}};return e.jsxs("div",{className:"w-screen p-2 md:w-full",children:[e.jsx("div",{className:"flex justify-between",children:e.jsx("div",{className:"flex w-full justify-between space-x-2",children:d==="table"&&e.jsx(B,{title:"Registered_Users",handleAdd:g,refresh:p})})}),y()]})};export{le as default};
