import{h as e}from"./vendor-ui-D-W4xDah.js";import{a as b}from"./vendor-react-pOJj_1mY.js";import{G as w}from"./GetAPI-C0R9K2iB.js";import{U as D,j as K,B as k,T}from"./vendor-other-a5iLNtiF.js";import{R as i,B as l,C as o,X as c,Y as x,T as h,a as d,L as n,b as g,P as C,c as R,d as A}from"./vendor-recharts-g12deziw.js";import"./config-BbshSSl6.js";import"./vendor-forms-CxLqLCH9.js";const G=()=>{const[t,u]=b.useState(null);if(b.useEffect(()=>{(async()=>{try{const{data:s}=await w("dashboardAnalytics");u(s)}catch(s){console.error("Error fetching dashboard data:",s)}})()},[]),!t)return e.jsx("p",{className:"p-6 text-gray-500",children:"Loading dashboard..."});const y=Object.entries(t.users.trend||{}).map(([a,s])=>({month:a,users:s})),f=(t.revenue.trend||[]).map(a=>({month:a.month,earned:Number(a.earned),pending:Number(a.pending)})),m=Object.entries(t.internshipDomains||{}).map(([a,s])=>({name:a,value:s})),v=Object.entries(t.tasks.byType||{}).map(([a,s])=>({type:a,value:s})),j=["#3b82f6","#10b981","#f59e0b","#ef4444"],r=({title:a,value:s,icon:N,color:p="blue"})=>e.jsx("div",{className:"rounded-xl bg-white p-5 shadow transition-transform hover:scale-[1.02] hover:shadow-md",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-full bg-${p}-100 text-${p}-600`,children:e.jsx(N,{size:20})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm text-gray-500",children:a}),e.jsx("p",{className:"text-2xl font-bold text-gray-800",children:s})]})]})});return e.jsxs("div",{className:"min-h-screen bg-gray-50 p-4",children:[e.jsxs("div",{className:"pb-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Analytics Dashboard"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Overview of users, tasks, revenue, and more ðŸ“Š"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 pt-4 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx(r,{title:"Total Users",value:t.users.total,icon:D,color:"blue"}),e.jsx(r,{title:"Active Users",value:t.users.active,icon:K,color:"green"}),e.jsx(r,{title:"Certificates",value:t.certificates.total,icon:k,color:"gray"}),e.jsx(r,{title:"Revenue Earned",value:`â‚¹${t.revenue.earned}`,icon:T,color:"yellow"})]}),e.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-6 lg:grid-cols-2",children:[e.jsxs("div",{className:"rounded-xl bg-white p-5 shadow",children:[e.jsx("h3",{className:"mb-4 text-lg font-semibold text-gray-800",children:"User Registrations"}),e.jsx(i,{width:"100%",height:250,children:e.jsxs(l,{data:y,children:[e.jsx(o,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(c,{dataKey:"month"}),e.jsx(x,{}),e.jsx(h,{}),e.jsx(d,{dataKey:"users",fill:"#3b82f6",radius:[4,4,0,0],children:e.jsx(n,{dataKey:"users",position:"top"})})]})})]}),e.jsxs("div",{className:"rounded-xl bg-white p-5 shadow",children:[e.jsx("h3",{className:"mb-4 text-lg font-semibold text-gray-800",children:"Revenue Trend"}),e.jsx(i,{width:"100%",height:250,children:e.jsxs(l,{data:f,children:[e.jsx(o,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(c,{dataKey:"month"}),e.jsx(x,{}),e.jsx(h,{}),e.jsx(g,{}),e.jsx(d,{dataKey:"earned",fill:"#10b981",radius:[4,4,0,0],children:e.jsx(n,{dataKey:"earned",position:"top"})}),e.jsx(d,{dataKey:"pending",fill:"#f59e0b",radius:[4,4,0,0],children:e.jsx(n,{dataKey:"pending",position:"top"})})]})})]}),e.jsxs("div",{className:"rounded-xl bg-white p-5 shadow",children:[e.jsx("h3",{className:"mb-4 text-lg font-semibold text-gray-800",children:"Internship Domains"}),e.jsx(i,{width:"100%",height:250,children:e.jsxs(C,{children:[e.jsx(R,{data:m,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:80,label:!0,children:m.map((a,s)=>e.jsx(A,{fill:j[s%j.length]},`cell-${s}`))}),e.jsx(g,{})]})})]}),e.jsxs("div",{className:"rounded-xl bg-white p-5 shadow",children:[e.jsx("h3",{className:"mb-4 text-lg font-semibold text-gray-800",children:"Task Type Distribution"}),e.jsx(i,{width:"100%",height:250,children:e.jsxs(l,{data:v,children:[e.jsx(o,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(c,{dataKey:"type"}),e.jsx(x,{}),e.jsx(h,{}),e.jsx(d,{dataKey:"value",fill:"#3b82f6",radius:[4,4,0,0],children:e.jsx(n,{dataKey:"value",position:"top"})})]})})]})]})]})};export{G as default};
