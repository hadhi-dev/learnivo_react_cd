import{h as o}from"./vendor-ui-D-W4xDah.js";import{R as T,a as l}from"./vendor-react-pOJj_1mY.js";import{y as P}from"./vendor-alerts-CMxmQAUU.js";import{c as at}from"./config-BbshSSl6.js";import{G as Ie}from"./GetAPI-C0R9K2iB.js";import{P as Pe}from"./PostAPI-Dm7qi3aC.js";import{B as S,C as ot,I as lt,c as it,a as ct,T as ut,A as dt,H as ft,V as pt,R as mt}from"./ViewHeaderWithButtons-CHvg3L_O.js";import{n as bt,o as gt,p as vt,q as ht,f as yt,r as xt,F as wt}from"./vendor-other-BEndW8qv.js";import"./index-9Ntr3LAE.js";import"./vendor-forms-CxLqLCH9.js";import"./AdminHome-CdAUOM1S.js";import"./CONSTANTS-CNTqIkkT.js";import"./vendor-recharts-pV3kltCe.js";const Ee={TaskID:0,UserID:null,CourseID:0,TaskName:"",TaskOrderNo:"",TaskType:"",TaskCode:"",ShortDescription:"",Description:"",DueDate:"",Status:"",IsActive:1,Remarks:"",CreatedAt:"",UpdatedAt:""},$t=[{fieldName:"TaskName",type:"text",label:"Task Name",IsVisible:!0,className:"w-full"},{fieldName:"CourseName",type:"text",label:"Course Name",IsVisible:!0,className:"w-full"},{fieldName:"IsActive",type:"boolean",label:"Active",IsVisible:!0,className:"w-1/2"},{fieldName:"TaskType",type:"text",label:"Type",IsVisible:!0,className:"w-1/2"},{fieldName:"TaskOrderNo",type:"text",label:"Order",IsVisible:!0,className:"w-1/2"}],Et=[{fieldName:"IsActive",type:"boolean",label:"Active",IsVisible:!0,className:"w-1/6"},{fieldName:"TaskName",type:"text",label:"Task Name",IsVisible:!0,className:"w-1/6"},{fieldName:"TaskType",type:"text",label:"Task Type",IsVisible:!0,className:"w-1/6"},{fieldName:"TaskOrderNo",type:"text",label:"Order",IsVisible:!0,className:"w-1/2"},{fieldName:"CourseName",type:"text",label:"Course Name ",IsVisible:!0,className:"w-1/6"},{fieldName:"ShortDescription",type:"text",label:"Short Description",IsVisible:!0,className:"w-1/6"}],Nt=[{label:"Course Name",fieldName:"CourseName",fieldID:"CourseID",type:"select",className:"w-full md:w-1/3",IsMandatory:0,IsVisible:1,IsDisable:0,options:[]},{label:"Task Code",fieldName:"TaskCode",type:"text",className:"w-full md:w-1/3",IsMandatory:0,IsVisible:1,IsDisable:0},{label:"Task Name",fieldName:"TaskName",type:"text",className:"w-full md:w-1/3",IsMandatory:1,IsVisible:1,IsDisable:0},{label:"Task Type",fieldName:"TaskType",fieldID:"TaskTypeID",type:"select",className:"w-full md:w-1/4",IsMandatory:0,IsVisible:1,IsDisable:0,options:[{TaskType:"Assignment Type",TaskTypeID:1},{TaskType:"MCQ",TaskTypeID:2}]},{label:"Task Order No",fieldName:"TaskOrderNo",type:"text",className:"w-full md:w-1/4",IsMandatory:0,IsVisible:1,IsDisable:0},{label:"Short Description",fieldName:"ShortDescription",type:"text",className:"w-full md:w-2/4",IsMandatory:0,IsVisible:1,IsDisable:0},{label:"Due Date",fieldName:"DueDate",type:"text",className:"w-full md:w-1/3",IsMandatory:0,IsVisible:0,IsDisable:0},{label:"Status",fieldName:"Status",type:"text",className:"w-full md:w-1/3",IsMandatory:0,IsVisible:0,IsDisable:0},{label:"Active",fieldName:"IsActive",type:"checkbox",className:"w-1/2",IsMandatory:0,IsVisible:1,IsDisable:0},{label:"Description",fieldName:"Description",type:"texteditor",className:"w-full",IsMandatory:0,IsVisible:1,IsDisable:0}],Ne=({variant:e="primary",size:t="md",fullWidth:n=!1,displayText:r="Submit",onClick:s,disabled:c=!1,loading:u=!1,icon:i})=>{const a="inline-flex items-center justify-center rounded-md font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2",m={primary:"bg-indigo-600 text-white hover:bg-indigo-500 focus:ring-indigo-500 disabled:bg-indigo-300",secondary:"bg-gray-200 text-gray-800 hover:bg-gray-300 focus:ring-gray-400 disabled:bg-gray-300",outline:"border border-gray-400 text-gray-700 hover:bg-gray-100 focus:ring-gray-400 disabled:text-gray-400",danger:"bg-red-600 text-white hover:bg-red-500 focus:ring-red-500 disabled:bg-red-300"},d={sm:"text-xs px-3 py-1.5",md:"text-sm px-4 py-2",lg:"text-base px-5 py-3"};return o.jsx("button",{className:`${a} ${m[e]} ${d[t]} ${n?"w-full":"w-auto"} ${u?"cursor-not-allowed opacity-80":""}`,onClick:s,disabled:c||u,children:u?o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Loading..."]}):o.jsxs(o.Fragment,{children:[i&&o.jsx("span",{className:"mr-2",children:i}),r]})})},Ae=typeof document<"u"?T.useLayoutEffect:()=>{};var ne;const Tt=(ne=T.useInsertionEffect)!==null&&ne!==void 0?ne:Ae;function Ct(e){const t=l.useRef(null);return Tt(()=>{t.current=e},[e]),l.useCallback((...n)=>{const r=t.current;return r==null?void 0:r(...n)},[])}const A=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},L=e=>e&&"window"in e&&e.window===e?e:A(e).defaultView||window;function jt(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function Dt(e){return jt(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}let kt=!1;function pe(){return kt}function Me(e,t){if(!pe())return t&&e?e.contains(t):!1;if(!e||!t)return!1;let n=t;for(;n!==null;){if(n===e)return!0;n.tagName==="SLOT"&&n.assignedSlot?n=n.assignedSlot.parentNode:Dt(n)?n=n.host:n=n.parentNode}return!1}const le=(e=document)=>{var t;if(!pe())return e.activeElement;let n=e.activeElement;for(;n&&"shadowRoot"in n&&(!((t=n.shadowRoot)===null||t===void 0)&&t.activeElement);)n=n.shadowRoot.activeElement;return n};function Le(e){return pe()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}function St(e){var t;if(typeof window>"u"||window.navigator==null)return!1;let n=(t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands;return Array.isArray(n)&&n.some(r=>e.test(r.brand))||e.test(window.navigator.userAgent)}function Ft(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function Oe(e){let t=null;return()=>(t==null&&(t=e()),t)}const It=Oe(function(){return Ft(/^Mac/i)}),Pt=Oe(function(){return St(/Android/i)});function Re(){let e=l.useRef(new Map),t=l.useCallback((s,c,u,i)=>{let a=i!=null&&i.once?(...m)=>{e.current.delete(u),u(...m)}:u;e.current.set(u,{type:c,eventTarget:s,fn:a,options:i}),s.addEventListener(c,a,i)},[]),n=l.useCallback((s,c,u,i)=>{var a;let m=((a=e.current.get(u))===null||a===void 0?void 0:a.fn)||u;s.removeEventListener(c,m,i),e.current.delete(u)},[]),r=l.useCallback(()=>{e.current.forEach((s,c)=>{n(s.eventTarget,s.type,c,s.options)})},[n]);return l.useEffect(()=>r,[r]),{addGlobalListener:t,removeGlobalListener:n,removeAllGlobalListeners:r}}function At(e){return e.pointerType===""&&e.isTrusted?!0:Pt()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function He(e){let t=e;return t.nativeEvent=e,t.isDefaultPrevented=()=>t.defaultPrevented,t.isPropagationStopped=()=>t.cancelBubble,t.persist=()=>{},t}function Mt(e,t){Object.defineProperty(e,"target",{value:t}),Object.defineProperty(e,"currentTarget",{value:t})}function Ve(e){let t=l.useRef({isFocused:!1,observer:null});Ae(()=>{const r=t.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=Ct(r=>{e==null||e(r)});return l.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){t.current.isFocused=!0;let s=r.target,c=u=>{if(t.current.isFocused=!1,s.disabled){let i=He(u);n(i)}t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};s.addEventListener("focusout",c,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&s.disabled){var u;(u=t.current.observer)===null||u===void 0||u.disconnect();let i=s===document.activeElement?null:document.activeElement;s.dispatchEvent(new FocusEvent("blur",{relatedTarget:i})),s.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:i}))}}),t.current.observer.observe(s,{attributes:!0,attributeFilter:["disabled"]})}},[n])}let Lt=!1,K=null,ie=new Set,W=new Map,O=!1,ce=!1;const Ot={Tab:!0,Escape:!0};function me(e,t){for(let n of ie)n(e,t)}function Rt(e){return!(e.metaKey||!It()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function J(e){O=!0,Rt(e)&&(K="keyboard",me("keyboard",e))}function _(e){K="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(O=!0,me("pointer",e))}function Be(e){At(e)&&(O=!0,K="virtual")}function qe(e){e.target===window||e.target===document||Lt||!e.isTrusted||(!O&&!ce&&(K="virtual",me("virtual",e)),O=!1,ce=!1)}function _e(){O=!1,ce=!0}function ue(e){if(typeof window>"u"||typeof document>"u"||W.get(L(e)))return;const t=L(e),n=A(e);let r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){O=!0,r.apply(this,arguments)},n.addEventListener("keydown",J,!0),n.addEventListener("keyup",J,!0),n.addEventListener("click",Be,!0),t.addEventListener("focus",qe,!0),t.addEventListener("blur",_e,!1),typeof PointerEvent<"u"&&(n.addEventListener("pointerdown",_,!0),n.addEventListener("pointermove",_,!0),n.addEventListener("pointerup",_,!0)),t.addEventListener("beforeunload",()=>{Ue(e)},{once:!0}),W.set(t,{focus:r})}const Ue=(e,t)=>{const n=L(e),r=A(e);t&&r.removeEventListener("DOMContentLoaded",t),W.has(n)&&(n.HTMLElement.prototype.focus=W.get(n).focus,r.removeEventListener("keydown",J,!0),r.removeEventListener("keyup",J,!0),r.removeEventListener("click",Be,!0),n.removeEventListener("focus",qe,!0),n.removeEventListener("blur",_e,!1),typeof PointerEvent<"u"&&(r.removeEventListener("pointerdown",_,!0),r.removeEventListener("pointermove",_,!0),r.removeEventListener("pointerup",_,!0)),W.delete(n))};function Ht(e){const t=A(e);let n;return t.readyState!=="loading"?ue(e):(n=()=>{ue(e)},t.addEventListener("DOMContentLoaded",n)),()=>Ue(e,n)}typeof document<"u"&&Ht();function We(){return K!=="pointer"}const Vt=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Bt(e,t,n){let r=A(n==null?void 0:n.target);const s=typeof window<"u"?L(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,c=typeof window<"u"?L(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,u=typeof window<"u"?L(n==null?void 0:n.target).HTMLElement:HTMLElement,i=typeof window<"u"?L(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return e=e||r.activeElement instanceof s&&!Vt.has(r.activeElement.type)||r.activeElement instanceof c||r.activeElement instanceof u&&r.activeElement.isContentEditable,!(e&&t==="keyboard"&&n instanceof i&&!Ot[n.key])}function qt(e,t,n){ue(),l.useEffect(()=>{let r=(s,c)=>{Bt(!!(n!=null&&n.isTextInput),s,c)&&e(We())};return ie.add(r),()=>{ie.delete(r)}},t)}function _t(e){let{isDisabled:t,onFocus:n,onBlur:r,onFocusChange:s}=e;const c=l.useCallback(a=>{if(a.target===a.currentTarget)return r&&r(a),s&&s(!1),!0},[r,s]),u=Ve(c),i=l.useCallback(a=>{const m=A(a.target),d=m?le(m):le();a.target===a.currentTarget&&d===Le(a.nativeEvent)&&(n&&n(a),s&&s(!0),u(a))},[s,n,u]);return{focusProps:{onFocus:!t&&(n||s||r)?i:void 0,onBlur:!t&&(r||s)?c:void 0}}}function Ut(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:s}=e,c=l.useRef({isFocusWithin:!1}),{addGlobalListener:u,removeAllGlobalListeners:i}=Re(),a=l.useCallback(f=>{f.currentTarget.contains(f.target)&&c.current.isFocusWithin&&!f.currentTarget.contains(f.relatedTarget)&&(c.current.isFocusWithin=!1,i(),n&&n(f),s&&s(!1))},[n,s,c,i]),m=Ve(a),d=l.useCallback(f=>{if(!f.currentTarget.contains(f.target))return;const p=A(f.target),b=le(p);if(!c.current.isFocusWithin&&b===Le(f.nativeEvent)){r&&r(f),s&&s(!0),c.current.isFocusWithin=!0,m(f);let h=f.currentTarget;u(p,"focus",g=>{if(c.current.isFocusWithin&&!Me(h,g.target)){let v=new p.defaultView.FocusEvent("blur",{relatedTarget:g.target});Mt(v,h);let y=He(v);a(y)}},{capture:!0})}},[r,s,m,u,a]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:d,onBlur:a}}}let de=!1,X=0;function Wt(){de=!0,setTimeout(()=>{de=!1},50)}function Te(e){e.pointerType==="touch"&&Wt()}function Gt(){if(!(typeof document>"u"))return X===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",Te),X++,()=>{X--,!(X>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",Te)}}function Kt(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:r,isDisabled:s}=e,[c,u]=l.useState(!1),i=l.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;l.useEffect(Gt,[]);let{addGlobalListener:a,removeAllGlobalListeners:m}=Re(),{hoverProps:d,triggerHoverEnd:f}=l.useMemo(()=>{let p=(g,v)=>{if(i.pointerType=v,s||v==="touch"||i.isHovered||!g.currentTarget.contains(g.target))return;i.isHovered=!0;let y=g.currentTarget;i.target=y,a(A(g.target),"pointerover",N=>{i.isHovered&&i.target&&!Me(i.target,N.target)&&b(N,N.pointerType)},{capture:!0}),t&&t({type:"hoverstart",target:y,pointerType:v}),n&&n(!0),u(!0)},b=(g,v)=>{let y=i.target;i.pointerType="",i.target=null,!(v==="touch"||!i.isHovered||!y)&&(i.isHovered=!1,m(),r&&r({type:"hoverend",target:y,pointerType:v}),n&&n(!1),u(!1))},h={};return typeof PointerEvent<"u"&&(h.onPointerEnter=g=>{de&&g.pointerType==="mouse"||p(g,g.pointerType)},h.onPointerLeave=g=>{!s&&g.currentTarget.contains(g.target)&&b(g,g.pointerType)}),{hoverProps:h,triggerHoverEnd:b}},[t,n,r,s,i,a,m]);return l.useEffect(()=>{s&&f({currentTarget:i.target},i.pointerType)},[s]),{hoverProps:d,isHovered:c}}function Qt(e={}){let{autoFocus:t=!1,isTextInput:n,within:r}=e,s=l.useRef({isFocused:!1,isFocusVisible:t||We()}),[c,u]=l.useState(!1),[i,a]=l.useState(()=>s.current.isFocused&&s.current.isFocusVisible),m=l.useCallback(()=>a(s.current.isFocused&&s.current.isFocusVisible),[]),d=l.useCallback(b=>{s.current.isFocused=b,u(b),m()},[m]);qt(b=>{s.current.isFocusVisible=b,m()},[],{isTextInput:n});let{focusProps:f}=_t({isDisabled:r,onFocusChange:d}),{focusWithinProps:p}=Ut({isDisabled:!r,onFocusWithinChange:d});return{isFocused:c,isFocusVisible:i,focusProps:r?p:f}}var Yt=Object.defineProperty,Xt=(e,t,n)=>t in e?Yt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,re=(e,t,n)=>(Xt(e,typeof t!="symbol"?t+"":t,n),n);let zt=class{constructor(){re(this,"current",this.detect()),re(this,"handoffState","pending"),re(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Ge=new zt;function Ke(e){var t,n;return Ge.isServer?null:e?"ownerDocument"in e?e.ownerDocument:"current"in e?(n=(t=e.current)==null?void 0:t.ownerDocument)!=null?n:document:null:document}function Jt(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function Z(){let e=[],t={addEventListener(n,r,s,c){return n.addEventListener(r,s,c),t.add(()=>n.removeEventListener(r,s,c))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return Jt(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,s){let c=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:s}),this.add(()=>{Object.assign(n.style,{[r]:c})})},group(n){let r=Z();return n(r),this.add(()=>r.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let s of e.splice(r,1))s()}},dispose(){for(let n of e.splice(0))n()}};return t}function Qe(){let[e]=l.useState(Z);return l.useEffect(()=>()=>e.dispose(),[e]),e}let Ye=(e,t)=>{Ge.isServer?l.useEffect(e,t):l.useLayoutEffect(e,t)};function Zt(e){let t=l.useRef(e);return Ye(()=>{t.current=e},[e]),t}let F=function(e){let t=Zt(e);return T.useCallback((...n)=>t.current(...n),[t])};function en(e){let t=e.width/2,n=e.height/2;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function tn(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function nn({disabled:e=!1}={}){let t=l.useRef(null),[n,r]=l.useState(!1),s=Qe(),c=F(()=>{t.current=null,r(!1),s.dispose()}),u=F(i=>{if(s.dispose(),t.current===null){t.current=i.currentTarget,r(!0);{let a=Ke(i.currentTarget);s.addEventListener(a,"pointerup",c,!1),s.addEventListener(a,"pointermove",m=>{if(t.current){let d=en(m);r(tn(d,t.current.getBoundingClientRect()))}},!1),s.addEventListener(a,"pointercancel",c,!1)}}});return{pressed:n,pressProps:e?{}:{onPointerDown:u,onPointerUp:c,onClick:c}}}function Ce(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function Q(e,t,...n){if(e in t){let s=t[e];return typeof s=="function"?s(...n):s}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Q),r}var fe=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(fe||{}),rn=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(rn||{});function be(){let e=an();return l.useCallback(t=>sn({mergeRefs:e,...t}),[e])}function sn({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:s,visible:c=!0,name:u,mergeRefs:i}){i=i??on;let a=Xe(t,e);if(c)return z(a,n,r,u,i);let m=s??0;if(m&2){let{static:d=!1,...f}=a;if(d)return z(f,n,r,u,i)}if(m&1){let{unmount:d=!0,...f}=a;return Q(d?0:1,{0(){return null},1(){return z({...f,hidden:!0,style:{display:"none"}},n,r,u,i)}})}return z(a,n,r,u,i)}function z(e,t={},n,r,s){let{as:c=n,children:u,refName:i="ref",...a}=se(e,["unmount","static"]),m=e.ref!==void 0?{[i]:e.ref}:{},d=typeof u=="function"?u(t):u;"className"in a&&a.className&&typeof a.className=="function"&&(a.className=a.className(t)),a["aria-labelledby"]&&a["aria-labelledby"]===a.id&&(a["aria-labelledby"]=void 0);let f={};if(t){let p=!1,b=[];for(let[h,g]of Object.entries(t))typeof g=="boolean"&&(p=!0),g===!0&&b.push(h.replace(/([A-Z])/g,v=>`-${v.toLowerCase()}`));if(p){f["data-headlessui-state"]=b.join(" ");for(let h of b)f[`data-${h}`]=""}}if(c===l.Fragment&&(Object.keys(B(a)).length>0||Object.keys(B(f)).length>0))if(!l.isValidElement(d)||Array.isArray(d)&&d.length>1){if(Object.keys(B(a)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(B(a)).concat(Object.keys(B(f))).map(p=>`  - ${p}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(p=>`  - ${p}`).join(`
`)].join(`
`))}else{let p=d.props,b=p==null?void 0:p.className,h=typeof b=="function"?(...y)=>Ce(b(...y),a.className):Ce(b,a.className),g=h?{className:h}:{},v=Xe(d.props,B(se(a,["ref"])));for(let y in f)y in v&&delete f[y];return l.cloneElement(d,Object.assign({},v,f,m,{ref:s(ln(d),m.ref)},g))}return l.createElement(c,Object.assign({},se(a,["ref"]),c!==l.Fragment&&m,c!==l.Fragment&&f),d)}function an(){let e=l.useRef([]),t=l.useCallback(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function on(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function Xe(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let s in r)s.startsWith("on")&&typeof r[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(r[s])):t[s]=r[s];if(t.disabled||t["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[s=>{var c;return(c=s==null?void 0:s.preventDefault)==null?void 0:c.call(s)}]);for(let r in n)Object.assign(t,{[r](s,...c){let u=n[r];for(let i of u){if((s instanceof Event||(s==null?void 0:s.nativeEvent)instanceof Event)&&s.defaultPrevented)return;i(s,...c)}}});return t}function je(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let s in r)s.startsWith("on")&&typeof r[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(r[s])):t[s]=r[s];for(let r in n)Object.assign(t,{[r](...s){let c=n[r];for(let u of c)u==null||u(...s)}});return t}function ge(e){var t;return Object.assign(l.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function B(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function se(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function ln(e){return T.version.split(".")[0]>="19"?e.props.ref:e.ref}function cn(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function ze(e){return cn(e)&&"tagName"in e}function Je(e){return ze(e)&&"accessKey"in e}function De(e){return ze(e)&&"tabIndex"in e}function un(e){return Je(e)&&e.nodeName==="FIELDSET"}function Ze(e){return Je(e)&&e.nodeName==="LEGEND"}function dn(e){let t=e.parentElement,n=null;for(;t&&!un(t);)Ze(t)&&(n=t),t=t.parentElement;let r=(t==null?void 0:t.getAttribute("disabled"))==="";return r&&fn(n)?!1:r}function fn(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(Ze(t))return!1;t=t.previousElementSibling}return!0}let et=Symbol();function pn(e,t=!0){return Object.assign(e,{[et]:t})}function ve(...e){let t=l.useRef(e);l.useEffect(()=>{t.current=e},[e]);let n=F(r=>{for(let s of t.current)s!=null&&(typeof s=="function"?s(r):s.current=r)});return e.every(r=>r==null||(r==null?void 0:r[et]))?void 0:n}var q=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(q||{});let mn=l.createContext(()=>{});function bn({value:e,children:t}){return T.createElement(mn.Provider,{value:e},t)}function gn(e,t){return l.useMemo(()=>{var n;if(e.type)return e.type;let r=(n=e.as)!=null?n:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||(t==null?void 0:t.tagName)==="BUTTON"&&!t.hasAttribute("type"))return"button"},[e.type,e.as,t])}function vn(e=0){let[t,n]=l.useState(e),r=l.useCallback(a=>n(a),[t]),s=l.useCallback(a=>n(m=>m|a),[t]),c=l.useCallback(a=>(t&a)===a,[t]),u=l.useCallback(a=>n(m=>m&~a),[n]),i=l.useCallback(a=>n(m=>m^a),[n]);return{flags:t,setFlag:r,addFlag:s,hasFlag:c,removeFlag:u,toggleFlag:i}}var hn={},ke,Se;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((ke=process==null?void 0:hn)==null?void 0:ke.NODE_ENV)==="test"&&typeof((Se=Element==null?void 0:Element.prototype)==null?void 0:Se.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var yn=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(yn||{});function xn(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function wn(e,t,n,r){let[s,c]=l.useState(n),{hasFlag:u,addFlag:i,removeFlag:a}=vn(e&&s?3:0),m=l.useRef(!1),d=l.useRef(!1),f=Qe();return Ye(()=>{var p;if(e){if(n&&c(!0),!t){n&&i(3);return}return(p=void 0)==null||p.call(r,n),$n(t,{inFlight:m,prepare(){d.current?d.current=!1:d.current=m.current,m.current=!0,!d.current&&(n?(i(3),a(4)):(i(4),a(2)))},run(){d.current?n?(a(3),i(4)):(a(4),i(3)):n?a(1):i(1)},done(){var b;d.current&&typeof t.getAnimations=="function"&&t.getAnimations().length>0||(m.current=!1,a(7),n||c(!1),(b=void 0)==null||b.call(r,n))}})}},[e,n,t,f]),e?[s,{closed:u(1),enter:u(2),leave:u(4),transition:u(2)||u(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function $n(e,{prepare:t,run:n,done:r,inFlight:s}){let c=Z();return Nn(e,{prepare:t,inFlight:s}),c.nextFrame(()=>{n(),c.requestAnimationFrame(()=>{c.add(En(e,r))})}),c.dispose}function En(e,t){var n,r;let s=Z();if(!e)return s.dispose;let c=!1;s.add(()=>{c=!0});let u=(r=(n=e.getAnimations)==null?void 0:n.call(e).filter(i=>i instanceof CSSTransition))!=null?r:[];return u.length===0?(t(),s.dispose):(Promise.allSettled(u.map(i=>i.finished)).then(()=>{c||t()}),s.dispose)}function Nn(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}let ee=l.createContext(null);ee.displayName="OpenClosedContext";var G=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(G||{});function Tn(){return l.useContext(ee)}function Cn({value:e,children:t}){return T.createElement(ee.Provider,{value:e},t)}function jn({children:e}){return T.createElement(ee.Provider,{value:null},e)}var Fe;let Dn=(Fe=T.startTransition)!=null?Fe:function(e){e()};var kn=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(kn||{}),Sn=(e=>(e[e.ToggleDisclosure=0]="ToggleDisclosure",e[e.CloseDisclosure=1]="CloseDisclosure",e[e.SetButtonId=2]="SetButtonId",e[e.SetPanelId=3]="SetPanelId",e[e.SetButtonElement=4]="SetButtonElement",e[e.SetPanelElement=5]="SetPanelElement",e))(Sn||{});let Fn={0:e=>({...e,disclosureState:Q(e.disclosureState,{0:1,1:0})}),1:e=>e.disclosureState===1?e:{...e,disclosureState:1},2(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},3(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}},4(e,t){return e.buttonElement===t.element?e:{...e,buttonElement:t.element}},5(e,t){return e.panelElement===t.element?e:{...e,panelElement:t.element}}},he=l.createContext(null);he.displayName="DisclosureContext";function ye(e){let t=l.useContext(he);if(t===null){let n=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ye),n}return t}let xe=l.createContext(null);xe.displayName="DisclosureAPIContext";function tt(e){let t=l.useContext(xe);if(t===null){let n=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,tt),n}return t}let we=l.createContext(null);we.displayName="DisclosurePanelContext";function In(){return l.useContext(we)}function Pn(e,t){return Q(t.type,Fn,e,t)}let An=l.Fragment;function Mn(e,t){let{defaultOpen:n=!1,...r}=e,s=l.useRef(null),c=ve(t,pn(g=>{s.current=g},e.as===void 0||e.as===l.Fragment)),u=l.useReducer(Pn,{disclosureState:n?0:1,buttonElement:null,panelElement:null,buttonId:null,panelId:null}),[{disclosureState:i,buttonId:a},m]=u,d=F(g=>{m({type:1});let v=Ke(s);if(!v||!a)return;let y=g?De(g)?g:"current"in g&&De(g.current)?g.current:v.getElementById(a):v.getElementById(a);y==null||y.focus()}),f=l.useMemo(()=>({close:d}),[d]),p=l.useMemo(()=>({open:i===0,close:d}),[i,d]),b={ref:c},h=be();return T.createElement(he.Provider,{value:u},T.createElement(xe.Provider,{value:f},T.createElement(bn,{value:d},T.createElement(Cn,{value:Q(i,{0:G.Open,1:G.Closed})},h({ourProps:b,theirProps:r,slot:p,defaultTag:An,name:"Disclosure"})))))}let Ln="button";function On(e,t){let n=l.useId(),{id:r=`headlessui-disclosure-button-${n}`,disabled:s=!1,autoFocus:c=!1,...u}=e,[i,a]=ye("Disclosure.Button"),m=In(),d=m===null?!1:m===i.panelId,f=l.useRef(null),p=ve(f,t,F(w=>{if(!d)return a({type:4,element:w})}));l.useEffect(()=>{if(!d)return a({type:2,buttonId:r}),()=>{a({type:2,buttonId:null})}},[r,a,d]);let b=F(w=>{var j;if(d){if(i.disclosureState===1)return;switch(w.key){case q.Space:case q.Enter:w.preventDefault(),w.stopPropagation(),a({type:0}),(j=i.buttonElement)==null||j.focus();break}}else switch(w.key){case q.Space:case q.Enter:w.preventDefault(),w.stopPropagation(),a({type:0});break}}),h=F(w=>{switch(w.key){case q.Space:w.preventDefault();break}}),g=F(w=>{var j;dn(w.currentTarget)||s||(d?(a({type:0}),(j=i.buttonElement)==null||j.focus()):a({type:0}))}),{isFocusVisible:v,focusProps:y}=Qt({autoFocus:c}),{isHovered:N,hoverProps:R}=Kt({isDisabled:s}),{pressed:I,pressProps:C}=nn({disabled:s}),H=l.useMemo(()=>({open:i.disclosureState===0,hover:N,active:I,disabled:s,focus:v,autofocus:c}),[i,N,I,v,s,c]),k=gn(e,i.buttonElement),x=je(d?{ref:p,type:k,disabled:s||void 0,autoFocus:c,onKeyDown:b,onClick:g}:{ref:p,id:r,type:k,"aria-expanded":i.disclosureState===0,"aria-controls":i.panelElement?i.panelId:void 0,disabled:s||void 0,autoFocus:c,onKeyDown:b,onKeyUp:h,onClick:g},y,R,C);return be()({ourProps:x,theirProps:u,slot:H,defaultTag:Ln,name:"Disclosure.Button"})}let Rn="div",Hn=fe.RenderStrategy|fe.Static;function Vn(e,t){let n=l.useId(),{id:r=`headlessui-disclosure-panel-${n}`,transition:s=!1,...c}=e,[u,i]=ye("Disclosure.Panel"),{close:a}=tt("Disclosure.Panel"),[m,d]=l.useState(null),f=ve(t,F(N=>{Dn(()=>i({type:5,element:N}))}),d);l.useEffect(()=>(i({type:3,panelId:r}),()=>{i({type:3,panelId:null})}),[r,i]);let p=Tn(),[b,h]=wn(s,m,p!==null?(p&G.Open)===G.Open:u.disclosureState===0),g=l.useMemo(()=>({open:u.disclosureState===0,close:a}),[u.disclosureState,a]),v={ref:f,id:r,...xn(h)},y=be();return T.createElement(jn,null,T.createElement(we.Provider,{value:u.panelId},y({ourProps:v,theirProps:c,slot:g,defaultTag:Rn,features:Hn,visible:b,name:"Disclosure.Panel"})))}let Bn=ge(Mn),qn=ge(On),_n=ge(Vn),ae=Object.assign(Bn,{Button:qn,Panel:_n});const Un=({TaskID:e})=>{const[t,n]=l.useState([{question:"",options:["","","",""],answer:""}]),[r,s]=l.useState(null);l.useEffect(()=>{(async()=>{if(e)try{const f=await Ie(`mcq/${e}`);if(f.code===200){const p=f.data.mcqs||[];n(p.length>0?p:[{question:"",options:["","","",""],answer:""}])}}catch(f){console.error("Error fetching MCQ data:",f)}})()},[e]);const c=(d,f,p)=>{const b=[...t];f==="question"||f==="answer"?b[d][f]=p:b[d].options[f]=p,n(b)},u=d=>{d.preventDefault(),d.stopPropagation();const f=t[t.length-1];if(!(f.question&&f.options.every(b=>b)&&f.answer)){P.warning("Please fill in all fields for the previous question before adding a new one.");return}s(t.length),n([...t,{question:"",options:["","","",""],answer:""}])},i=d=>{const f=t.filter((p,b)=>b!==d);n(f),r===d&&s(null)},a=async()=>{try{if(!t.every(b=>b.question&&b.options.every(h=>h)&&b.answer)){P.warning("Please fill in all fields.");return}const{status:f,data:p}=await Pe("mcq_save",{data:{TaskID:e,mcqs:t}});f===200&&p.code===200?P.success(p.message||"MCQs saved successfully"):P.warning(p.message||"Failed to save MCQs")}catch(d){console.error("Error saving MCQs:",d),P.error("Something went wrong while saving MCQs")}finally{s(null)}},m=d=>{if(!d.destination)return;const f=Array.from(t),[p]=f.splice(d.source.index,1);f.splice(d.destination.index,0,p),n(f)};return e?o.jsxs("div",{className:"min-h-screen rounded bg-gray-100 p-2",children:[o.jsx("h1",{className:"text-md mb-2 font-bold",children:"MCQ Generator"}),o.jsx(bt,{onDragEnd:m,children:o.jsx(gt,{droppableId:"mcqs",children:d=>o.jsxs("div",{...d.droppableProps,ref:d.innerRef,className:"space-y-2",children:[t.map((f,p)=>o.jsx(vt,{draggableId:`mcq-${p}`,index:p,children:b=>o.jsx("div",{ref:b.innerRef,...b.draggableProps,className:"rounded-lg bg-white p-1 shadow",children:o.jsx(ae,{defaultOpen:p===r,children:({open:h})=>o.jsxs(o.Fragment,{children:[o.jsxs(ae.Button,{className:`focus-visible:ring-opacity-75 flex w-full justify-between rounded-lg bg-gray-100 px-2 py-1 text-left text-sm font-medium text-gray-900 hover:bg-gray-200 focus:outline-none focus-visible:ring focus-visible:ring-purple-500 ${!f.question&&p===r?"bg-yellow-100":""}`,onClick:()=>s(h?null:p),children:[o.jsx("span",{children:f.question?`Q${p+1}: ${f.question}`:`Question ${p+1}`}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ht,{className:"h-4 w-4 cursor-pointer text-red-500",onClick:g=>{g.stopPropagation(),i(p)}}),o.jsx("div",{...b.dragHandleProps,children:o.jsx(yt,{className:"h-4 w-4 text-gray-500"})}),o.jsx(xt,{className:`${h?"rotate-180 transform":""} h-4 w-4 text-gray-500`})]})]}),o.jsxs(ae.Panel,{className:`rounded px-2 pt-2 pb-1 text-sm text-gray-500 ${r===p?"bg-indigo-50":""}`,children:[o.jsx("div",{className:"mb-2",children:o.jsx("input",{type:"text",value:f.question,placeholder:"Enter Your Question Here...",onChange:g=>c(p,"question",g.target.value),className:"mt-1 block w-full rounded border border-gray-300 p-1 text-gray-800"})}),o.jsx("div",{className:"mb-2 grid grid-cols-2 gap-2",children:["A","B","C","D"].map((g,v)=>o.jsxs("div",{className:"flex items-center",children:[o.jsxs("span",{className:"mr-2",children:[g,"."]}),o.jsx("input",{type:"text",value:f.options[v],onChange:y=>c(p,v,y.target.value),className:"mt-1 block w-full rounded border border-gray-300 p-1 text-gray-800"})]},v))}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Answer"}),o.jsxs("select",{value:f.answer,onChange:g=>c(p,"answer",g.target.value),className:"mt-1 block w-full rounded border border-gray-300 p-1 text-gray-800",children:[o.jsx("option",{value:"",children:"Select correct option"}),o.jsx("option",{value:"A",children:"A"}),o.jsx("option",{value:"B",children:"B"}),o.jsx("option",{value:"C",children:"C"}),o.jsx("option",{value:"D",children:"D"})]})]})]})]})},`disclosure-${p}-${r}`)})},p)),d.placeholder]})})}),o.jsxs("div",{className:"mt-4 flex justify-end space-x-2",children:[o.jsx(Ne,{className:"flex",displayText:"+ Add Another Question",onClick:u,color:"indigo",icon:""}),o.jsx(Ne,{className:"flex",displayText:"Save MCQs",onClick:a,color:"green",icon:""})]})]}):null},Wn=({handleSubmit:e,clearForm:t,primID:n,formConfig:r,formData:s,handleChange:c,onBack:u,title:i})=>o.jsxs("form",{onSubmit:e,className:"w-full",children:[o.jsxs("div",{className:"flex w-full items-center justify-between gap-2",children:[o.jsxs("button",{className:"flex items-center rounded-full py-2 text-gray-700 hover:bg-gray-200 focus:outline-none",onClick:()=>u("table"),children:[o.jsx("i",{className:"material-icons",children:"arrow_back"}),o.jsx("span",{className:"text-md ml-2 pr-2 font-bold text-indigo-600",children:i})]}),o.jsxs("div",{className:"flex w-full items-center justify-end gap-2 pr-2",children:[n?o.jsx(S,{className:"hidden md:flex",name:"Close",onClick:u,color:"indigo",icon:"close"}):o.jsxs(o.Fragment,{children:[o.jsx(S,{className:"hidden md:flex",name:"Close",onClick:u,color:"red",icon:"close"}),o.jsx(S,{className:"hidden md:flex",name:"Clear",onClick:t,color:"red",icon:"cancel"})]}),o.jsx(S,{className:"hidden md:flex",name:n>0?"Update":"Save",icon:"save",type:"submit",color:"green"})]})]}),o.jsx("div",{className:"flex w-full items-center justify-end gap-2 p-2",children:r.map(a=>a.type==="checkbox"&&a.IsVisible?o.jsx(ot,{field:a,formData:s,handleChange:c},a.fieldName):"")}),o.jsx("div",{className:"mt-4 flex w-full flex-wrap gap-y-2",children:r.map(a=>a.type!=="checkbox"&&a.IsVisible?o.jsx(lt,{field:a,formData:s,handleChange:c},a.fieldName):null)}),s.TaskID&&o.jsx(Un,{TaskID:s.TaskID}),o.jsx("div",{className:"fixed bottom-0 w-full bg-white p-4 md:hidden",children:o.jsxs("div",{className:"flex justify-end gap-1 pr-2",children:[n?o.jsx(S,{name:"Close",className:"text-lg",onClick:u,color:"red",icon:"close"}):o.jsxs(o.Fragment,{children:[o.jsx(S,{name:"Close",className:"text-lg",onClick:u,color:"red",icon:"close"}),o.jsx(S,{name:"Clear",className:"text-lg",onClick:t,color:"red",icon:"cancel"})]}),o.jsx(S,{name:n>0?"Update":"Save",icon:"save",type:"submit",color:"indigo"})]})})]}),Gn=({handleAdd:e,title:t,refresh:n,TotalCount:r,isFiltered:s})=>o.jsxs("div",{className:"flex w-full items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("span",{className:`text-md border border-0 border-l-2 pl-2 font-bold transition-colors duration-300 ${s?"border-orange-500 text-orange-600":"border-indigo-600 text-indigo-600"}`,children:[t," (",r||0,")"]}),s&&o.jsxs("div",{className:"flex items-center gap-1 rounded-full bg-orange-100 px-2 py-1",children:[o.jsx(wt,{size:14,className:"text-orange-600"}),o.jsx("span",{className:"text-xs font-semibold text-orange-600",children:"Filtered"})]}),o.jsx("i",{title:"Refresh",onClick:n,className:"bi bi-arrow-clockwise cursor-pointer text-indigo-700 hover:text-indigo-900"})]}),o.jsx("div",{children:o.jsx(S,{className:"hidden md:flex",name:"Add",onClick:e,color:"indigo",icon:"add"})})]}),Kn=({tableFields:e,cardViewFields:t,dataList:n=[],handleEdit:r,handleView:s,title:c,isCardView:u,setCardView:i,IDPK:a,courseData:m=[],selectedCourseID:d,setSelectedCourseID:f,refreshData:p,onFilteredCountChange:b})=>{const[h,g]=l.useState(n),[v,y]=l.useState(""),[N,R]=l.useState({startDate:"",endDate:""});l.useEffect(()=>{g(n)},[n]);const I=it(e,r,s,a);let C=d?h.filter(x=>x.CourseID===d):h;if(v.trim()){const x=v.toLowerCase();C=C.filter(w=>Object.values(w).some(j=>String(j).toLowerCase().includes(x)))}(N.startDate||N.endDate)&&(C=C.filter(x=>{const w=x.CreatedTtm||x.UpdatedTtm||x.CreatedOn||x.UpdatedOn||x.CreatedAt||x.created_datetime||x.Date;if(!w)return!0;const j=String(w).split(" ")[0]||String(w).split("T")[0],Y=new Date(j),V=N.startDate?new Date(N.startDate):null,U=N.endDate?new Date(N.endDate):null;return!(V&&Y<V||U&&Y>U)}));const H=ct(C,a);l.useEffect(()=>{const x=v.trim()||N.startDate||N.endDate;b&&b({filteredCount:C.length,hasActiveFilters:x})},[C.length,v,N,b]);const k=async()=>{try{p&&typeof p=="function"?await p():(console.log("Refreshing Tasks table..."),g(n))}catch(x){throw console.error("Refresh error:",x),x}};return o.jsx("div",{className:"p-2",children:o.jsxs("div",{className:"flex flex-col gap-4 md:flex-row",children:[o.jsxs("aside",{className:"bg-white py-4 md:w-1/4 lg:w-1/5",children:[o.jsx("h2",{className:"mb-4 px-4 text-sm font-semibold tracking-wide text-gray-700 uppercase",children:"Courses"}),o.jsx("div",{onClick:()=>f(null),className:`mb-3 mx-4 cursor-pointer rounded-xl border p-3 shadow-sm transition-all duration-200 ${d===null?"border-indigo-400 bg-indigo-50 shadow-md":"border-gray-200 bg-gray-50 hover:bg-gray-100 hover:shadow"}`,children:o.jsx("p",{className:`text-sm font-medium ${d===null?"text-indigo-700":"text-gray-800"}`,children:"All Courses"})}),o.jsx("ul",{className:"flex gap-3 space-y-3 px-4 pt-4 md:flex-col",children:m.map((x,w)=>o.jsx("li",{onClick:()=>f(x.CourseID),className:`cursor-pointer rounded-xl border p-3 shadow-sm transition-all duration-200 ${d===x.CourseID?"border-indigo-400 bg-indigo-50 shadow-md":"border-gray-200 bg-white hover:bg-indigo-100 hover:shadow"}`,children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx("p",{className:"text-sm font-medium text-gray-800",children:x.CourseName}),o.jsx("p",{className:"text-xs text-gray-600",children:x.Department})]}),o.jsxs("span",{className:"text-xs font-semibold text-indigo-600",children:[x.TaskCount," Tasks"]})]})},w))})]}),o.jsx("main",{className:"flex-1 p-2",children:o.jsxs("div",{className:"bg-white rounded-lg",children:[o.jsx(ut,{onRefresh:k,rows:H,columns:I,tableName:"Tasks",searchValue:v,onSearchChange:y,dateRange:N,onDateRangeChange:R}),o.jsx(dt,{columns:I,rows:H,storageKey:"tasks_table_columns"})]})})]})})},Qn=({formConfig:e,formData:t,primID:n,onBack:r,handleEdit:s,handleAdd:c,title:u})=>o.jsx("div",{className:"flex w-full items-center justify-center",children:o.jsxs("div",{className:"w-full bg-white",children:[o.jsx(ft,{title:u,onBack:r,handleEdit:s,handleAdd:c,primID:n}),o.jsx(pt,{formConfig:e,formData:t}),o.jsx(mt,{onBack:r,handleAdd:c,handleEdit:s,primID:n})]})}),oe="TaskID",cr=e=>{const[t,n]=l.useState(Ee),[r,s]=l.useState(Nt),[c,u]=l.useState([]),[i,a]=l.useState("table"),[m,d]=l.useState(0),[f,p]=l.useState(!1),[b,h]=l.useState([]),[g,v]=l.useState(null),[y,N]=l.useState(""),[R,I]=l.useState(0),[C,H]=l.useState(!1);l.useEffect(()=>{k()},[]),l.useEffect(()=>{(async()=>{try{const[E]=await Promise.all([Ie("listCourse")]);if(E.code===200&&E.data.length>0){const D=E.data.length>0?E.data:[];h(E.data);const te=r.map(M=>M.fieldID==="CourseID"?{...M,options:D}:M);s(te)}}catch(E){console.error("Error fetching dropdown data:",E)}})()},[]);const k=async()=>{try{const $=await fetch(`${at.API_URL}tasks`);if(!$.ok)throw new Error(`HTTP error! Status: ${$.status}`);const E=await $.json();u(E.data),N(E.data.length),I(E.data.length)}catch($){console.error("Error fetching data:",$)}},x=$=>{I($.filteredCount),H($.hasActiveFilters)},w=$=>{const{name:E,checked:D,type:te}=$.target;if(te==="checkbox")n(M=>({...M,[E]:D}));else{const M=$.target.value;n(st=>({...st,[E]:M}))}},j=async $=>{try{const{status:E,data:D}=await Pe("tasks_save",{data:$});E===200&&D.code===200?(P.success(D.message),V(),a("table"),k()):P.warning(D.message)}catch(E){console.error("ðŸš€ ~ file: Main.js:71 ~ saveData ~ error:",E),P.error("something went wrong!")}},Y=$=>{$.preventDefault(),j(t)},V=()=>{n(Ee),d(0)},U=$=>{const E=c.find(D=>D[oe]===$);d($),n(E),a("entry")},nt=$=>{const E=c.find(D=>D[oe]===$);d($),n(E),a("view")},$e=()=>{V(),a("entry")},rt=()=>{switch(i){case"entry":return o.jsx(Wn,{title:"Tasks",primID:m,formData:t,formConfig:r,handleChange:w,handleSubmit:Y,clearForm:V,onBack:()=>a("table")});case"view":return o.jsx(Qn,{title:"Tasks",primID:m,formConfig:r,formData:t,onBack:()=>a("table"),handleEdit:U,handleAdd:$e});case"table":default:return o.jsx(Kn,{selectedCourseID:g,setSelectedCourseID:v,IDPK:oe,cardViewFields:$t,tableFields:Et,dataList:c,handleEdit:U,handleView:nt,isCardView:f,setCardView:p,courseData:b,refreshData:k,onFilteredCountChange:x})}};return o.jsxs("div",{className:"w-screen p-2 md:w-full",children:[o.jsx("div",{className:"flex justify-between",children:o.jsx("div",{className:"flex w-full justify-between space-x-2",children:i==="table"&&o.jsx(Gn,{title:"Manage Tasks",handleAdd:$e,refresh:k,TotalCount:C?R:y,isFiltered:C})})}),rt()]})};export{cr as default};
