import{h as B,r as n,j as i,e as De,y as W}from"./index-Dk3PDzU5.js";import{P as Pe}from"./PostAPI-DF5irOih.js";import{aM as se,E as ie,I as ne,V as Ae,aN as Ce,a2 as K,w as F,L as J,j as le,ai as oe,aj as ce,ak as Ee,am as Se,aO as ke,al as Y,u as de,a3 as ue,F as Oe,a4 as Ve,M as Le,a5 as Re,N as Te,r as me,a7 as Fe,aP as _e,a8 as We,aQ as fe,aa as Me,a9 as Ke,g as pe,aR as X,v as Ue,J as Be,y as T,Z as Je,ae as Qe,a0 as ze,aw as He,ax as Ge,aF as $e,aG as Ye,aH as Xe,aI as Ze,aJ as qe,aL as et}from"./CartesianChart-Dczm66i5.js";import{c as Q}from"./reselect-D_WqcfaR.js";import{B as V,C as tt,I as at,F as rt,c as st,a as it,T as nt,A as lt,H as ot,V as ct,R as dt}from"./ViewHeaderWithButtons-S-LDBuP1.js";import"./AdminHome-Dus0MgrK.js";import"./search-BH7IYyJi.js";import"./refresh-cw-DYyQ8bvs.js";import"./file-text-CrJzs5T6.js";function U(){return U=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},U.apply(null,arguments)}var he=e=>{var{cx:t,cy:a,r,className:s}=e,l=B("recharts-dot",s);return t===+t&&a===+a&&r===+r?n.createElement("circle",U({},ie(e),se(e),{className:l,cx:t,cy:a,r})):null};function Z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function q(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Z(Object(a),!0).forEach(function(r){ut(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Z(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function ut(e,t,a){return(t=mt(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function mt(e){var t=ft(e,"string");return typeof t=="symbol"?t:t+""}function ft(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pt=e=>{var{point:t,childIndex:a,mainColor:r,activeDot:s,dataKey:l}=e;if(s===!1||t.x==null||t.y==null)return null;var o=q(q({index:a,dataKey:l,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},F(s,!1)),se(s)),d;return n.isValidElement(s)?d=n.cloneElement(s,o):typeof s=="function"?d=s(o):d=n.createElement(he,o),n.createElement(J,{className:"recharts-active-dot"},d)};function ht(e){var{points:t,mainColor:a,activeDot:r,itemDataKey:s}=e,l=ne(Ae),o=Ce();if(t==null||o==null)return null;var d=t.find(c=>o.includes(c.payload));return K(d)?null:pt({point:d,childIndex:Number(l),mainColor:a,dataKey:s,activeDot:r})}var ve=(e,t,a,r)=>oe(e,"xAxis",t,r),be=(e,t,a,r)=>ce(e,"xAxis",t,r),ye=(e,t,a,r)=>oe(e,"yAxis",a,r),xe=(e,t,a,r)=>ce(e,"yAxis",a,r),vt=Q([le,ve,ye,be,xe],(e,t,a,r,s)=>ke(e,"xAxis")?Y(t,r,!1):Y(a,s,!1)),bt=(e,t,a,r,s)=>s;function yt(e){return e.type==="line"}var xt=Q([Se,bt],(e,t)=>e.filter(yt).find(a=>a.id===t)),gt=Q([le,ve,ye,be,xe,xt,vt,Ee],(e,t,a,r,s,l,o,d)=>{var{chartData:c,dataStartIndex:m,dataEndIndex:b}=d;if(!(l==null||t==null||a==null||r==null||s==null||r.length===0||s.length===0||o==null)){var{dataKey:f,data:x}=l,v;if(x!=null&&x.length>0?v=x:v=c==null?void 0:c.slice(m,b+1),v!=null)return Ut({layout:e,xAxis:t,yAxis:a,xAxisTicks:r,yAxisTicks:s,dataKey:f,bandSize:o,displayedData:v})}}),Nt=["id"],It=["type","layout","connectNulls","needClip"],wt=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function ee(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function D(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?ee(Object(a),!0).forEach(function(r){jt(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ee(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function jt(e,t,a){return(t=Dt(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Dt(e){var t=Pt(e,"string");return typeof t=="symbol"?t:t+""}function Pt(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function z(e,t){if(e==null)return{};var a,r,s=At(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function At(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function L(){return L=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},L.apply(null,arguments)}var Ct=e=>{var{dataKey:t,name:a,stroke:r,legendType:s,hide:l}=e;return[{inactive:l,dataKey:t,type:s,color:r,value:me(a,t),payload:e}]};function Et(e){var{dataKey:t,data:a,stroke:r,strokeWidth:s,fill:l,name:o,hide:d,unit:c}=e;return{dataDefinedOnItem:a,positions:void 0,settings:{stroke:r,strokeWidth:s,fill:l,dataKey:t,nameKey:void 0,name:me(o,t),hide:d,type:e.tooltipType,color:e.stroke,unit:c}}}var ge=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function St(e,t){for(var a=e.length%2!==0?[...e,0]:e,r=[],s=0;s<t;++s)r=[...r,...a];return r}var kt=(e,t,a)=>{var r=a.reduce((f,x)=>f+x);if(!r)return ge(t,e);for(var s=Math.floor(e/r),l=e%r,o=t-e,d=[],c=0,m=0;c<a.length;m+=a[c],++c)if(m+a[c]>l){d=[...a.slice(0,c),l-m];break}var b=d.length%2===0?[0,o]:[o];return[...St(a,s),...d,...b].map(f=>"".concat(f,"px")).join(", ")};function Ot(e,t){var a;if(n.isValidElement(e))a=n.cloneElement(e,t);else if(typeof e=="function")a=e(t);else{var r=B("recharts-line-dot",typeof e!="boolean"?e.className:"");a=n.createElement(he,L({},t,{className:r}))}return a}function Vt(e,t){return e==null?!1:t?!0:e.length===1}function Lt(e){var{clipPathId:t,points:a,props:r}=e,{dot:s,dataKey:l,needClip:o}=r;if(!Vt(a,s))return null;var{id:d}=r,c=z(r,Nt),m=fe(s),b=ie(c),f=F(s,!0),x=a.map((g,u)=>{var w=D(D(D({key:"dot-".concat(u),r:3},b),f),{},{index:u,cx:g.x,cy:g.y,dataKey:l,value:g.value,payload:g.payload,points:a});return Ot(s,w)}),v={clipPath:o?"url(#clipPath-".concat(m?"":"dots-").concat(t,")"):void 0};return n.createElement(J,L({className:"recharts-line-dots",key:"dots"},v),x)}function Rt(e){var{showLabels:t,children:a,points:r}=e,s=n.useMemo(()=>r==null?void 0:r.map(l=>{var o={x:l.x,y:l.y,width:0,height:0};return D(D({},o),{},{value:l.value,payload:l.payload,viewBox:o,parentViewBox:void 0,fill:void 0})}),[r]);return n.createElement(Qe,{value:t?s:null},a)}function te(e){var{clipPathId:t,pathRef:a,points:r,strokeDasharray:s,props:l}=e,{type:o,layout:d,connectNulls:c,needClip:m}=l,b=z(l,It),f=D(D({},F(b,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:m?"url(#clipPath-".concat(t,")"):void 0,points:r,type:o,layout:d,connectNulls:c,strokeDasharray:s??l.strokeDasharray});return n.createElement(n.Fragment,null,(r==null?void 0:r.length)>1&&n.createElement(ze,L({},f,{pathRef:a})),n.createElement(Lt,{points:r,clipPathId:t,props:l}))}function Tt(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Ft(e){var{clipPathId:t,props:a,pathRef:r,previousPointsRef:s,longestAnimatedLengthRef:l}=e,{points:o,strokeDasharray:d,isAnimationActive:c,animationBegin:m,animationDuration:b,animationEasing:f,animateNewValues:x,width:v,height:g,onAnimationEnd:u,onAnimationStart:w}=a,j=s.current,N=Ue(a,"recharts-line-"),[I,S]=n.useState(!1),y=!I,A=n.useCallback(()=>{typeof u=="function"&&u(),S(!1)},[u]),k=n.useCallback(()=>{typeof w=="function"&&w(),S(!0)},[w]),P=Tt(r.current),p=l.current;return n.createElement(Rt,{points:o,showLabels:y},a.children,n.createElement(Be,{animationId:N,begin:m,duration:b,isActive:c,easing:f,onAnimationEnd:A,onAnimationStart:k,key:N},h=>{var C=T(p,P+p,h),R=Math.min(C,P),O;if(c)if(d){var _="".concat(d).split(/[,\s]+/gim).map(E=>parseFloat(E));O=kt(R,P,_)}else O=ge(P,R);else O=d==null?void 0:String(d);if(j){var we=j.length/o.length,H=h===1?o:o.map((E,je)=>{var G=Math.floor(je*we);if(j[G]){var $=j[G];return D(D({},E),{},{x:T($.x,E.x,h),y:T($.y,E.y,h)})}return x?D(D({},E),{},{x:T(v*2,E.x,h),y:T(g/2,E.y,h)}):D(D({},E),{},{x:E.x,y:E.y})});return s.current=H,n.createElement(te,{props:a,points:H,clipPathId:t,pathRef:r,strokeDasharray:O})}return h>0&&P>0&&(s.current=o,l.current=R),n.createElement(te,{props:a,points:o,clipPathId:t,pathRef:r,strokeDasharray:O})}),n.createElement(Je,{label:a.label}))}function _t(e){var{clipPathId:t,props:a}=e,r=n.useRef(null),s=n.useRef(0),l=n.useRef(null);return n.createElement(Ft,{props:a,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:s,pathRef:l})}var Wt=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:pe(e.payload,t)});class Mt extends n.Component{render(){var t,{hide:a,dot:r,points:s,className:l,xAxisId:o,yAxisId:d,top:c,left:m,width:b,height:f,id:x,needClip:v}=this.props;if(a)return null;var g=B("recharts-line",l),u=x,{r:w=3,strokeWidth:j=2}=(t=F(r,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},N=fe(r),I=w*2+j;return n.createElement(n.Fragment,null,n.createElement(J,{className:g},v&&n.createElement("defs",null,n.createElement(Me,{clipPathId:u,xAxisId:o,yAxisId:d}),!N&&n.createElement("clipPath",{id:"clipPath-dots-".concat(u)},n.createElement("rect",{x:m-I/2,y:c-I/2,width:b+I,height:f+I}))),n.createElement(Ke,{xAxisId:o,yAxisId:d,data:s,dataPointFormatter:Wt,errorBarOffset:0},n.createElement(_t,{props:this.props,clipPathId:u}))),n.createElement(ht,{activeDot:this.props.activeDot,points:s,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var Ne={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Te.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function Kt(e){var t=de(e,Ne),{activeDot:a,animateNewValues:r,animationBegin:s,animationDuration:l,animationEasing:o,connectNulls:d,dot:c,hide:m,isAnimationActive:b,label:f,legendType:x,xAxisId:v,yAxisId:g,id:u}=t,w=z(t,wt),{needClip:j}=Fe(v,g),N=_e(),I=We(),S=ue(),y=ne(h=>gt(h,v,g,S,u));if(I!=="horizontal"&&I!=="vertical"||y==null||N==null)return null;var{height:A,width:k,x:P,y:p}=N;return n.createElement(Mt,L({},w,{id:u,connectNulls:d,dot:c,activeDot:a,animateNewValues:r,animationBegin:s,animationDuration:l,animationEasing:o,isAnimationActive:b,hide:m,label:f,legendType:x,xAxisId:v,yAxisId:g,points:y,layout:I,height:A,width:k,left:P,top:p,needClip:j}))}function Ut(e){var{layout:t,xAxis:a,yAxis:r,xAxisTicks:s,yAxisTicks:l,dataKey:o,bandSize:d,displayedData:c}=e;return c.map((m,b)=>{var f=pe(m,o);if(t==="horizontal"){var x=X({axis:a,ticks:s,bandSize:d,entry:m,index:b}),v=K(f)?null:r.scale(f);return{x,y:v,value:f,payload:m}}var g=K(f)?null:a.scale(f),u=X({axis:r,ticks:l,bandSize:d,entry:m,index:b});return g==null||u==null?null:{x:g,y:u,value:f,payload:m}}).filter(Boolean)}function Ie(e){var t=de(e,Ne),a=ue();return n.createElement(Oe,{id:t.id,type:"line"},r=>n.createElement(n.Fragment,null,n.createElement(Ve,{legendPayload:Ct(t)}),n.createElement(Le,{fn:Et,args:t}),n.createElement(Re,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:a}),n.createElement(Kt,L({},t,{id:r}))))}Ie.displayName="Line";var Bt=["axis"],Jt=n.forwardRef((e,t)=>n.createElement(He,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Bt,tooltipPayloadSearcher:Ge,categoricalChartProps:e,ref:t}));const ae={UserRegIDPK:0,FullName:"",Email:"",Qualification:"",Designation:"",ContactNumber:"",WhatsappNumber:"",InternshipDomain:"",JoinedLinkedIn:!1,JoinedWhatsapp:!1,Queries:"",IsVerified:!1,CreatedAt:"",UpdatedAt:""},Qt=[{fieldName:"FullName",type:"text",label:"Name",IsVisible:!0,className:"w-full"},{fieldName:"Email",type:"text",label:"Email",IsVisible:!0,className:"w-full"},{fieldName:"ContactNumber",type:"text",label:"Contact",IsVisible:!0,className:"w-1/2"},{fieldName:"InternshipDomain",type:"text",label:"Domain",IsVisible:!0,className:"w-1/2"},{fieldName:"IsVerified",type:"boolean",label:"Onboarded",IsVisible:!0,className:"w-1/2"}],zt=[{fieldName:"FullName",type:"text",label:"Full Name",IsVisible:!0,className:"w-1/6"},{fieldName:"Email",type:"text",label:"Email",IsVisible:!0,className:"w-1/6"},{fieldName:"PasswordHash",type:"text",label:"Password Hash",IsVisible:!1},{fieldName:"Qualification",type:"text",label:"Qualification",IsVisible:!0,className:"w-1/6"},{fieldName:"Designation",type:"text",label:"Designation",IsVisible:!0,className:"w-1/6"},{fieldName:"ContactNumber",type:"text",label:"Contact Number",IsVisible:!0,className:"w-1/6"},{fieldName:"WhatsappNumber",type:"text",label:"WhatsApp Number",IsVisible:!0,className:"w-1/6"},{fieldName:"InternshipDomain",type:"text",label:"Internship Domain",IsVisible:!0,className:"w-1/6"},{fieldName:"JoinedLinkedIn",type:"boolean",label:"Joined LinkedIn",IsVisible:!0,className:"w-1/6"},{fieldName:"JoinedWhatsapp",type:"boolean",label:"Joined WhatsApp",IsVisible:!0,className:"w-1/6"},{fieldName:"Queries",type:"text",label:"Queries",IsVisible:!0,className:"w-1/6"},{fieldName:"VerificationToken",type:"text",label:"Verification Token",IsVisible:!1},{fieldName:"IsVerified",type:"boolean",label:"Is Verified",IsVisible:!0,className:"w-1/6"},{fieldName:"UserRole",type:"text",label:"User Role",IsVisible:!0,className:"w-1/6"},{fieldName:"CreatedAt",type:"text",label:"Created At",IsVisible:!0,className:"w-1/6"},{fieldName:"UpdatedAt",type:"text",label:"Updated At",IsVisible:!0,className:"w-1/6"}],re=[{label:"Full Name",fieldName:"FullName",type:"text",className:"w-full md:w-1/2",IsMandatory:1,IsVisible:1,IsDisable:0},{label:"Email",fieldName:"Email",type:"email",className:"w-full md:w-1/2",IsMandatory:0,IsVisible:1,IsDisable:0},{label:"Qualification",fieldName:"Qualification",type:"text",className:"w-full md:w-1/2",IsMandatory:0,IsVisible:1,IsDisable:0},{label:"Designation",fieldName:"Designation",type:"text",className:"w-full md:w-1/2",IsMandatory:0,IsVisible:1,IsDisable:0},{label:"Contact Number",fieldName:"ContactNumber",type:"text",className:"w-full md:w-1/3",IsMandatory:0,IsVisible:1,IsDisable:0},{label:"Whatsapp Number",fieldName:"WhatsappNumber",type:"text",className:"w-full md:w-1/3",IsMandatory:0,IsVisible:1,IsDisable:0},{label:"Internship Domain",fieldName:"InternshipDomain",fieldID:"InternshipDomainID",info:"Space",type:"text",className:"w-full md:w-1/3",IsMandatory:0,IsVisible:1,IsDisable:0},{label:"LinkedIn",fieldName:"JoinedLinkedIn",type:"checkbox",className:"w-1/2",IsMandatory:0,IsVisible:1,IsDisable:0},{label:"Whatsapp",fieldName:"JoinedWhatsapp",type:"checkbox",className:"w-1/2",IsMandatory:0,IsVisible:1,IsDisable:0},{label:"Queries",fieldName:"Queries",type:"text",className:"w-full",IsMandatory:0,IsVisible:1,IsDisable:0},{label:"Onboarded",fieldName:"IsVerified",type:"checkbox",className:"w-1/2",IsMandatory:0,IsVisible:1,IsDisable:0}],Ht=({data:e=[]})=>{const a=(r=>{const s={};return r.forEach(l=>{const o=l.CreatedTtm||l.CreatedOn||l.DateOfBirth;if(!o)return;const d=String(o).split(" ")[0]||String(o).split("T")[0],c=new Date(d);if(isNaN(c.getTime()))return;const m=c.getFullYear(),b=String(c.getMonth()+1).padStart(2,"0"),f=`${m}-${b}`;s[f]=(s[f]||0)+1}),Object.entries(s).map(([l,o])=>({month:l,users:o})).sort((l,o)=>new Date(l.month)-new Date(o.month))})(e);return a.length===0?i.jsx("div",{className:"h-96 w-full flex items-center justify-center bg-gray-50 rounded-lg border border-gray-200",children:i.jsx("p",{className:"text-gray-500",children:"No registration data available"})}):i.jsxs("div",{className:"w-full h-96 bg-white rounded-lg border border-gray-200 p-4 shadow-sm",children:[i.jsx("h3",{className:"mb-4 text-lg font-bold text-gray-900",children:"User Registrations"}),i.jsx($e,{width:"100%",height:"100%",children:i.jsxs(Jt,{data:a,margin:{top:20,right:30,left:0,bottom:60},children:[i.jsx(Ye,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),i.jsx(Xe,{dataKey:"month",angle:-45,textAnchor:"end",height:80,tick:{fontSize:12,fill:"#6b7280"}}),i.jsx(Ze,{tick:{fontSize:12,fill:"#6b7280"},label:{value:"Number of Users",angle:-90,position:"insideLeft",offset:10}}),i.jsx(qe,{contentStyle:{backgroundColor:"#ffffff",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},formatter:r=>[`${r} users`,"Registrations"],labelFormatter:r=>`Month: ${r}`,cursor:{stroke:"#4f46e5",strokeWidth:2}}),i.jsx(et,{wrapperStyle:{paddingTop:"20px"}}),i.jsx(Ie,{type:"monotone",dataKey:"users",stroke:"#4f46e5",strokeWidth:4,dot:{fill:"#4f46e5",r:6,strokeWidth:2,stroke:"#ffffff"},activeDot:{r:8,strokeWidth:2,stroke:"#ffffff"},animationDuration:1e3,isAnimationActive:!0,name:"Users"})]})})]})},Gt=({handleSubmit:e,clearForm:t,primID:a,formConfig:r,formData:s,handleChange:l,onBack:o,title:d})=>i.jsxs("form",{onSubmit:e,className:"w-full",children:[i.jsxs("div",{className:"flex w-full items-center justify-between gap-2",children:[i.jsxs("button",{className:"flex items-center rounded-full py-2 text-gray-700 hover:bg-gray-200 focus:outline-none",onClick:()=>o("table"),children:[i.jsx("i",{className:"material-icons",children:"arrow_back"}),i.jsx("span",{className:"text-md ml-2 pr-2 font-bold text-indigo-600",children:d})]}),i.jsxs("div",{className:"flex w-full items-center justify-end gap-2 pr-2",children:[a?i.jsx(V,{className:"hidden md:flex",name:"Close",onClick:o,color:"indigo",icon:"close"}):i.jsxs(i.Fragment,{children:[i.jsx(V,{className:"hidden md:flex",name:"Close",onClick:o,color:"red",icon:"close"}),i.jsx(V,{className:"hidden md:flex",name:"Clear",onClick:t,color:"red",icon:"cancel"})]}),i.jsx(V,{className:"hidden md:flex",name:a>0?"Update":"Save",icon:"save",type:"submit",color:"green"})]})]}),i.jsx("div",{className:"flex w-full items-center justify-end gap-2 p-2",children:r.map(c=>c.type==="checkbox"&&c.IsVisible?i.jsx(tt,{field:c,formData:s,handleChange:l},c.fieldName):"")}),i.jsx("div",{className:"mt-4 flex w-full flex-wrap gap-y-2",children:r.map(c=>c.type!=="checkbox"&&c.IsVisible?i.jsx(at,{field:c,formData:s,handleChange:l},c.fieldName):null)}),i.jsx("div",{className:"fixed bottom-0 w-full bg-white p-4 md:hidden",children:i.jsxs("div",{className:"flex justify-end gap-1 pr-2",children:[a?i.jsx(V,{name:"Close",className:"text-lg",onClick:o,color:"red",icon:"close"}):i.jsxs(i.Fragment,{children:[i.jsx(V,{name:"Close",className:"text-lg",onClick:o,color:"red",icon:"close"}),i.jsx(V,{name:"Clear",className:"text-lg",onClick:t,color:"red",icon:"cancel"})]}),i.jsx(V,{name:a>0?"Update":"Save",icon:"save",type:"submit",color:"indigo"})]})})]}),$t=({handleAdd:e,title:t,refresh:a,TotalCount:r,isFiltered:s})=>i.jsxs("div",{className:"flex w-full items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("span",{className:`text-md border border-0 border-l-2 pl-2 font-bold transition-colors duration-300 ${s?"border-orange-500 text-orange-600":"border-indigo-600 text-indigo-600"}`,children:[t," (",r||0,")"]}),s&&i.jsxs("div",{className:"flex items-center gap-1 rounded-full bg-orange-100 px-2 py-1",children:[i.jsx(rt,{size:14,className:"text-orange-600"}),i.jsx("span",{className:"text-xs font-semibold text-orange-600",children:"Filtered"})]}),i.jsx("i",{title:"Refresh",onClick:a,className:"bi bi-arrow-clockwise cursor-pointer text-indigo-700 hover:text-indigo-900"})]}),i.jsx("div",{children:i.jsx(V,{className:"hidden md:flex",name:"Add",onClick:e,color:"indigo",icon:"add"})})]}),Yt=({tableFields:e,cardViewFields:t,dataList:a,handleEdit:r,handleView:s,title:l,isCardView:o,setCardView:d,IDPK:c,refreshData:m,onFilteredCountChange:b})=>{const[f,x]=n.useState(a),[v,g]=n.useState(""),[u,w]=n.useState({startDate:"",endDate:""});n.useEffect(()=>{x(a)},[a]);const j=st(e,r,s,c);let N=f.filter(y=>{if(!v.trim())return!0;const A=v.toLowerCase();return Object.values(y).some(k=>String(k).toLowerCase().includes(A))});(u.startDate||u.endDate)&&(N=N.filter(y=>{const A=y.CreatedTtm||y.UpdatedTtm||y.CreatedOn||y.UpdatedOn||y.DateOfBirth||y.JoiningDate||y.Date;if(!A)return!0;const k=String(A).split(" ")[0]||String(A).split("T")[0],P=new Date(k),p=u.startDate?new Date(u.startDate):null,h=u.endDate?new Date(u.endDate):null;return!(p&&P<p||h&&P>h)}));const I=it(N,c);n.useEffect(()=>{const y=v.trim()||u.startDate||u.endDate;b&&b({filteredCount:N.length,hasActiveFilters:y})},[N.length,v,u,b]);const S=async()=>{try{m&&typeof m=="function"?await m():(console.log("Refreshing RegisterUser table..."),x(a))}catch(y){throw console.error("Refresh error:",y),y}};return i.jsxs("div",{className:"p-4 bg-white rounded-lg",children:[i.jsx(nt,{onRefresh:S,rows:I,columns:j,tableName:"RegisterUser",searchValue:v,onSearchChange:g,dateRange:u,onDateRangeChange:w}),i.jsx(lt,{columns:j,rows:I,storageKey:"registeruser_table_columns"})]})},Xt=({formConfig:e,formData:t,primID:a,onBack:r,handleEdit:s,handleAdd:l,title:o})=>i.jsx("div",{className:"flex w-full items-center justify-center",children:i.jsxs("div",{className:"w-full bg-white",children:[i.jsx(ot,{title:o,onBack:r,handleEdit:s,handleAdd:l,primID:a}),i.jsx(ct,{formConfig:e,formData:t}),i.jsx(dt,{onBack:r,handleAdd:l,handleEdit:s,primID:a})]})}),M="UserRegIDPK",la=e=>{const[t,a]=n.useState(ae),[r,s]=n.useState([]),[l,o]=n.useState("table"),[d,c]=n.useState(0),[m,b]=n.useState(!1),[f,x]=n.useState(0),[v,g]=n.useState(!1);n.useEffect(()=>{u()},[]);const u=async()=>{try{const p=await fetch(`${De.API_URL}userregistrations`);if(!p.ok)throw new Error(`HTTP error! Status: ${p.status}`);const h=await p.json();s(h.data),x(h.data.length)}catch(p){console.error("Error fetching data:",p)}},w=p=>{x(p.filteredCount),g(p.hasActiveFilters)},j=p=>{const{name:h,checked:C,type:R}=p.target;if(R==="checkbox")a(O=>({...O,[h]:C}));else{const O=p.target.value;a(_=>({..._,[h]:O}))}},N=async p=>{try{const{status:h,data:C}=await Pe("userregistration_save",{data:p});h===200&&C.code===200?(W.success(C.message),S(),o("table"),u()):W.warning(C.message)}catch(h){console.error("ðŸš€ ~ file: Main.js:71 ~ saveData ~ error:",h),W.error("something went wrong!")}},I=p=>{p.preventDefault(),N(t)},S=()=>{a(ae),c(0)},y=p=>{const h=r.find(C=>C[M]===p);c(p),a(h),o("entry")},A=p=>{const h=r.find(C=>C[M]===p);c(p),a(h),o("view")},k=()=>{S(),o("entry")},P=()=>{switch(l){case"entry":return i.jsx(Gt,{title:"Registered_User",primID:d,formData:t,formConfig:re,handleChange:j,handleSubmit:I,clearForm:S,onBack:()=>o("table")});case"view":return i.jsx(Xt,{title:"Registered_User",primID:d,formConfig:re,formData:t,onBack:()=>o("table"),handleEdit:y,handleAdd:k});case"table":default:return i.jsxs("div",{className:"space-y-4",children:[i.jsx(Ht,{data:r}),i.jsx(Yt,{IDPK:M,cardViewFields:Qt,tableFields:zt,dataList:r,handleEdit:y,handleView:A,isCardView:m,setCardView:b,refreshData:u,onFilteredCountChange:w})]})}};return i.jsxs("div",{className:"w-screen p-2 md:w-full",children:[i.jsx("div",{className:"flex justify-between",children:i.jsx("div",{className:"flex w-full justify-between space-x-2",children:l==="table"&&i.jsx($t,{title:"Registered_Users",handleAdd:k,refresh:u,TotalCount:v?f:r.length,isFiltered:v})})}),P()]})};export{la as default};
